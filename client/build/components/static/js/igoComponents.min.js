'use strict';function igoAccordion(t,e,i){return{preinit:function(e){for(var n=t('>div>div[template]',e),o=0;o<n.length;o++){var r=n.eq(o);i.template(r,r.attr('template'))}}}}function igoButton(t){return{init:function(e){this.$button=t('>button',e),this.onEvent('click',e)},label:{get:function(){return this.$button.html()},set:function(t){this.$button.html(t)}}}}function igoCheckbox(t){return{init:function(e,i){i.$input=t('>label>input',e).event('change.check',function(){i.checked=i.$input.is(':checked')}),i.$label=t('>label>u',e),this.onEvent('change',this.$input)},checked:{get:function(){return this.$input.prop('checked')},set:function(t){this.$input.prop('checked',t)}},label:{get:function(){return this.$label.html()},set:function(t){this.$label.html(t)}}}}function igoDatefield(t,e,i){var n=(window.indigoLocales||{}).datefield||{days:['Su','Mo','Tu','We','Th','Fr','Sa'],months:['January','February','March','April','May','June','July','August','September','October','November','December']},o=function(t){return t?new Date(t):null};return{preinit:function(i){var n={formatDate:this.formatDate};this.initComponents(i,n),t('>div>span',i).event('click.open',function(i){i.stopPropagation();var o=n.$calendar.hasClass('open');t(e+'>.calendar').removeClass('open'),n.$calendar.toggleClass('open',!o)}),n.$calendar.event('click.prevent',function(t){t.stopPropagation()}),i.event('change.init',function(t,e){n.$box.attr('ts',e),n.$prompt.html(n.formatDate(e)||n.$box.attr('prompt'))}).trigger('change.init',n.timeStamp)},init:function(t,e){this.onEvent('change',t),this.initComponents(t,this),t.event('change.init',function(t,i){e.value=i})},initComponents:function(e,i){return i.$box=t('>div',e),i.$prompt=i.$box.find('>div'),i.$calendar=t('>.calendar',e),i.$prompt.html(i.$prompt.attr('prompt')),i.timeStamp=Number(i.$box.attr('ts')),this.initItems(i,e,i.timeStamp),i},initItems:function(e,i,r){var s=this,a=t('<table></table>'),u=new Date,l=o(e.timeStamp),c=r?new Date(r):new Date;c instanceof Date||(c=new Date);var h=c.getFullYear(),p=c.getMonth(),f=32-new Date(h,p,32).getDate(),d=new Date(h,p,1).getDay(),g=[],m=[],$='',v=e.$box.attr('d')?e.$box.attr('d').split(','):n.days,b=e.$box.attr('m')?e.$box.attr('m').split(','):n.months;c.setHours(0,0,0,0);for(var k=0;k<7;k++)g.push('<th>'+v[k]+'</th>');m.push('<tr>'+g.join('')+'</tr>');t:for(;;){for(g=[],k=0;k<7;k++)if((k>=d||''!==$)&&($=$||0,$++),l&&h===l.getFullYear()&&p===l.getMonth()&&$===l.getDate()?g.push('<td class="selected">'+$+'</td>'):h===u.getFullYear()&&p===u.getMonth()&&$===u.getDate()?g.push('<td class="now">'+$+'</td>'):g.push('<td>'+$+'</td>'),$>=f)break t;m.push('<tr>'+g.join('')+'</tr>')}for(k+=1;k<7;k++)g.push('');return m.push('<tr>'+g.join('')+'</tr>'),a.html(m.join('\n')),e.$calendar.empty().append('<h1 unselectable="on"><i/>'+b[p]+' '+h+'<u/></h1>').append(a),e.$calendar.find('i').click(function(){s.initItems(e,i,c.setMonth(p-1))}),e.$calendar.find('u').click(function(){s.initItems(e,i,c.setMonth(p+1))}),g=e.$calendar.find('td').click(function(n){g.removeClass('selected'),e.$calendar.removeClass('open'),i.trigger('change',c.setDate(Number(t(n.currentTarget).addClass('selected').text())))}),c},formatDate:function(t){var e=o(t);return e?(e.toLocaleDateString||e.toDateString).call(e):''},value:{get:function(){return this.timeStamp},set:function(t){this.timeStamp=t,this.$prompt.html(this.formatDate(t)||this.prompt||''),this.initItems(this,this.$el,t)}},prompt:{get:function(){return this.$prompt.attr('prompt')},set:function(t){this.$prompt.attr('prompt',t)}},disabled:{get:function(){return!!this.$el.attr('disabled')},set:function(t){this.$calendar.removeClass('open'),i.attr(this.$el,'disabled',t)}},selectedDate:{get:function(){return o(this.value)},set:function(t){this.value=t?t.getTime():NaN}},open:{get:function(){return this.$calendar.hasClass('open')},set:function(t){i.class(this.$calendar,'open',t)}}}}function igoDialog(t,e,i){return{preinit:function(e){var n=this.initForms(e,{});i.template(n.$header,n.$header.attr('uid')),i.template(n.$section,n.$section.attr('uid')),i.template(n.$footer,n.$footer.attr('uid')),e.find('.close').event('click.hide',function(){e.hide(),e.trigger('close')}),t('*[dialog_id="'+e.attr('id')+'"]').event('click.show',function(){e.show()})},initForms:function(e,i){return i.$header=t('>div>header',e),i.$section=t('>div>section',e),i.$footer=t('>div>footer',e),i},init:function(t){this.initForms(t,this),this.onEvent('close',t),this.defaultTitle=this.$header.find('.title').html(),this.defaultContent=this.$section.find('.content').html()},title:{get:function(){return this.$header.find('.title').html()},set:function(t){return this.$header.find('.title').html(t)}},content:{get:function(){return this.$section.find('.content').html()},set:function(t){return this.$section.find('.content').html(t)}},show:{get:function(){return'none'!==this.$el.css('display')},set:function(t){this.$el.css('display',t?'block':'none'),t?this.$section.find('input, textarea').eq(0).focus():this.$el.trigger('close')}}}}function igoDropdown(t,e,i){return{preinit:function(i){var n=t('>ul',i),o=t('>div',i).event('click.open',function(i){i.stopPropagation();var o=n.hasClass('open');t(e+'>ul').removeClass('open'),n.toggleClass('open',!o)}),r=o.find('>div');t(i).event('keypress.enter',function(t){i.attr('disabled')||13!==t.which||o.trigger('click')}),r.html()||r.html(r.attr('prompt'))},init:function(e){this.initItems(e,this),this.onEvent('change',e),this._data=[],this.$box=t('>div',e),this.$prompt=this.$box.find('>div'),this.$popup=t('>ul',e),this.dataField=this.$box.attr('df'),this.labelField=this.$box.attr('lf')||'label',this.itemRenderer=t('script[rel=ir]',e).html()||'<li>%LABEL%</li>',this.labelRenderer=t('script[rel=lr]',e).html()||'%LABEL%',this.selectedValue=null,-1!==this.index&&this.$items.length&&(this.option=this.$items.eq(0)),this.define('selectedItem',function(){return this.data[this.index]||{}}),this.define('selectedLabel',function(){return this.selectedItem[this.labelField]}),this.define('selectedData',function(){return this.selectedItem[this.dataField]})},initItems:function(e,i){i.$items=t('>ul>li',e).event('click.li',function(n){i.index=t(n.currentTarget).index(),e.trigger('change',i)})},indexByText:function(e){var i=0;return this.$items.each(function(n,o){if(t(o).text()===e)return i=n,!1}),this.index=i},createItem:function(t){return this.itemRenderer.replace('%LABEL%',t[this.labelField]||t).replace('%DATA%',t[this.dataField])},createLabel:function(t){return this.labelRenderer.replace('%LABEL%',t)},findOption:function(t){this.option=this.$popup.find('li:contains("'+t+'")')},data:{get:function(){return this._data},set:function(t){var e=this;this._data=t||[],this.$popup.empty(),this._data.forEach(function(t){e.$popup.append(e.createItem(t))}),this._data.length?this.value=this.selectedValue:this.index=-1,-1===this.index&&(this.value=null),this.initItems(this.$el,this)}},index:{get:function(){var t=Number(this.$box.attr('selectedIndex'));return isNaN(t)?-1:t},set:function(t){this.$box.attr('selectedIndex',t),this.option=this.$items.eq(t)}},option:{get:function(){return this.$items.eq(this.index)},set:function(t){this.index=t.index(),this.value=t.text(),this.label=t.html()}},value:{get:function(){return this.selectedValue},set:function(t){this.selectedValue=t,this.findOption(t)}},label:{get:function(){return this.$prompt.html()},set:function(t){this.$prompt.html(this.createLabel(t||this.prompt||''))}},prompt:{get:function(){return this.$prompt.attr('prompt')},set:function(t){this.$prompt.attr('prompt',t)}},disabled:{get:function(){return!!this.$el.attr('disabled')},set:function(t){this.$popup.removeClass('open'),i.attr(this.$el,'disabled',t)}},open:{get:function(){return this.$popup.hasClass('open')},set:function(t){i.class(this.$popup,'open',t)}}}}function igoFile(t){return{fieldName:'file',fileData:null,init:function(e,i){i.$input=t('>input',e).event('change.file',function(){if(this.files.length){var t=new window.FormData,e=this.files[0],n=e.name.split('.').pop().toLowerCase();this.value=null,t.append(i.fieldName||'file',e),i.load(function(t){i.file=t},t,n,e)}})},field:{get:function(){return this.fieldName},set:function(t){this.fieldName=t}},file:{get:function(){return this.fileData},set:function(t){this.fileData=t}},load:function(t,e,i,n){t(n.name)}}}function igoImage(t){return{init:function(e){this.$node=t('>*',e),this.isIMG='IMG'===this.$node.prop('tagName')},url:{get:function(){return this.isIMG?this.$node.prop('src'):this.$node.css('background-image').replace(/(url\(|\)|'|")/gi,'')},set:function(t){return this.isIMG?this.$node.prop('src',t):this.$node.css('background-image','url("'+t+'")')}}}}function igoInput(t){return{preinit:function(e){t('>div',e).event('focus.input',function(e){setTimeout(function(){t('>input',e.currentTarget).focus()},10)})},init:function(e,i){i.$input=t('>div>input',e).event('change.val',function(){i.value=i.$input.val()}),this.onEvent('change',i.$input),this.onEvent('enter',i.$input,function(t,e){i.$input.event('keyup.'+e,function(e){13===e.which&&t.call(i,e)})})},value:{get:function(){return this.$input.val()},set:function(t){this.$input.val(t)}},focus:function(){this.$input.focus()}}}function igoMenu(t){return{preinit:function(e){var i=t('>ul>li',e).event('click.select',function(e){i.removeClass('selected'),t(e.currentTarget).addClass('selected')})},init:function(e,i){i.$lis=t('>ul>li',e)},selected:{get:function(){return this.$lis.filter('.selected')},set:function(t){this.$lis.removeClass('selected'),t.addClass('selected')}}}}function igoRadio(t){return{init:function(e,i){i.$input=t('>label>input',e).event('change.check',function(){i.checked=i.$input.is(':checked')}),i.$label=t('>label>u',e),this.onEvent('change',this.$input)},checked:{get:function(){return this.$input.prop('checked')},set:function(t){this.$input.prop('checked',t)}},label:{get:function(){return this.$label.html()},set:function(t){this.$label.html(t)}}}}function igoRadiogroup(t){return{preinit:function(t){this.getRadios(t).filter('[value="'+t.text()+'"]').prop('checked',!0)},init:function(e,i){this.$inputs=this.getRadios(e),this.$labels=this.$inputs.parent(),this.$radios=this.$labels.parent(),this.$inputs.event('change.value',function(e){i.value=t(e.currentTarget).val()})},value:{get:function(){return this.$inputs.filter(':checked').val()},set:function(t){this.$inputs.filter('[value="'+t+'"]').prop('checked',!0)}},label:{get:function(){return this.$inputs.filter(':checked').parent().text()},set:function(t){this.$inputs.filter(':checked').parent().text(t)}},getRadios:function(e){return t('[_=igoRadio]>label>input[name="'+e.attr('id')+'"]')},class:function(t,e){return e?this.$radios.addClass(t):this.$radios.removeClass(t)}}}function igoSwitch(t){return{init:function(e,i){i.$input=t('>label>input',e).event('change.check',function(){i.checked=i.$input.is(':checked')}),this.onEvent('change',i.$input)},checked:{get:function(){return this.$input.prop('checked')},set:function(t){this.$input.prop('checked',t)}}}}function igoTabs(t,e,i){return{preinit:function(e){for(var n=t('>section',e).find('>div'),o=t('>div>input',e).event('change.tabs',function(){n.hide();var t=o.filter(':checked').parent().index();n.eq(t).show()}),r=0;r<n.length;r++){var s=n.eq(r);i.template(s,s.attr('template'))}o.trigger('change.tabs')}}}function igoText(t){return{init:function(e){this.$label=t('>div>p',e)},value:{get:function(){return this.$label.html()},set:function(t){this.$label.html(t)}},text:{get:function(){return this.$label.text()},set:function(t){this.$label.text(t)}},editable:{get:function(){return'true'===this.$label.prop('contenteditable')},set:function(t){this.$label.prop('contenteditable',t)}}}}function igoTextarea(t){return{preinit:function(e){t('>div',e).event('focus.input',function(e){setTimeout(function(){t('>textarea',e.currentTarget).focus()},10)})},init:function(e,i){i.$input=t('>div>textarea',e).event('change.val',function(){i.value=i.$input.val()}),this.onEvent('change',i.$input),this.onEvent('enter',i.$input,function(t,e){i.$input.event('keyup.'+e,function(e){13===e.which&&t.call(i,e)})})},value:{get:function(){return this.$input.val()},set:function(t){this.$input.val(t)}},focus:function(){this.$input.focus()}}}function igoTogglebox(t,e,i){return{preinit:function(e){for(var n=t('>div[template]',e),o=0;o<n.length;o++){var r=n.eq(o);i.template(r,r.attr('template'))}}}}function igoTooltip(t){return{preinit:function(e){var i=t('>div',e);if(i.attr('target')){var n,o,r=i.attr('target').split(','),s=i.attr('position'),a=(s||'top').split('-'),u=a[0],l=a[1]||('top'===u||'bottom'===u?'center':'middle'),c=parseInt(i.attr('scroll')),h=t('>div>p',e),p=h.html();r.forEach(function(r){t(r).event('mouseout.target',function(){e.hide(),clearInterval(o)}).event('mouseover.target',function(r){var a=t(r.currentTarget),f=a.offset();switch(e.show(),p||h.text(a.text()),s&&'auto'!==s||(u='top',l='left',f.top-i.outerHeight()<0&&(u='bottom'),f.left+a.outerWidth()+i.outerHeight()>document.body.clientWidth&&(l='right'),i.attr('position',u+'-'+l)),u){case'top':f.top-=i.outerHeight()+7;break;case'bottom':f.top+=a.outerHeight()+7;break;case'left':f.left-=i.outerWidth()+7;break;case'right':f.left+=a.outerWidth()+7}switch(l){case'right':f.left+=a.outerWidth()-i.outerWidth();break;case'center':f.left+=a.outerWidth()/2-i.outerWidth()/2;break;case'bottom':f.top+=a.outerHeight()-i.outerHeight();break;case'middle':f.top+=a.outerHeight()/2-i.outerHeight()/2}isNaN(c)||(h.scrollTop(n=0),o=setTimeout(function(){clearTimeout(o),o=setInterval(function(){h.scrollTop(++n),n>h.scrollTop()+1&&clearInterval(o)},c)},parseInt(i.attr('scrollTimeout'))||500)),e.css(f)})})}},init:function(e){this.$label=t('>div>p',e)},value:{get:function(){return this.$label.html()},set:function(t){this.$label.html(t)}}}}igoAccordion.register=null,igoButton.register=null,igoCheckbox.register=null,igoDatefield.register=function(t,e,i){t(i).on('click.dropdown',function(){t(e+'>.calendar').removeClass('open')})},igoDialog.register=null,igoDropdown.register=function(t,e,i){t(i).on('click.dropdown',function(){t(e+'>ul').removeClass('open')})},igoFile.register=null,igoImage.register=null,igoInput.register=null,igoMenu.register=null,igoRadio.register=null,igoRadiogroup.register=null,igoSwitch.register=null,igoTabs.register=null,igoText.register=null,igoTextarea.register=null,igoTogglebox.register=null,igoTooltip.register=null;
//# sourceMappingURL=igoComponents.min.map